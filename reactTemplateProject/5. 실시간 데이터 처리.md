> 실시간 데이터 처리
---




* SSE (Server-Sent Events)
    서버 → 클라이언트 (단방향)
    [Server] ===streaming===> [Client]
    ✅ 서버가 푸시
    ❌ 클라이언트는 HTTP로 별도 요청

* WebSocket  
    서버 ↔ 클라이언트 (양방향)
    [Server] ⟺ [Client]
    ✅ 서버 푸시
    ✅ 클라이언트 푸시



* 실제 사용 사례
    - SSE가 적합한 경우
        ✅ 서버 → 클라이언트 단방향 스트리밍
        - 주식 시세 (클라이언트는 보기만)
        - 뉴스 피드
        - 서버 상태 모니터링 (읽기 전용)
        
        ✅ HTTP 인프라 활용 필요
        - 기존 HTTP 프록시/로드밸런서 사용
        - HTTP 캐싱/압축 활용
        
        ✅ 간단한 구현
        - 서버에서 `res.write()` 몇 줄이면 끝

    - WebSocket이 적합한 경우
        ✅ 양방향 실시간 통신
        - 챗봇 (사용자 입력 + AI 응답)
        - 게임
        - 협업 도구 (실시간 편집)
        
        ✅ 낮은 지연 요구
        - 터미널 (키 입력 즉시 전송)
        - 화상/음성 시그널링
        
        ✅ 빈번한 메시지 교환
        - 실시간 로그 모니터링 (필터링 명령)
        - IoT 제어


* 이전 SSE 개발 시 어려움
    - 문제 1: 두 개의 통신 채널
    fetch('/api/chat', { method: 'POST', ... })  // 사용자 메시지
    new EventSource('/api/stream')               // AI 응답

    - 문제 2: 상태 동기화
    // - fetch 완료 != SSE 메시지 도착
    // - 어떤 요청에 대한 응답인지 매칭 필요

    - 문제 3: 에러 처리
    eventSource.onerror = (e) => {
    // 재연결? 새로 생성? 헷갈림
    }




* 서버 모니터링
    - 설치
    ```
    npm install systeminformation
    ```